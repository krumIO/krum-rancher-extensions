(("undefined"!==typeof self?self:this)["webpackJsonpapp_launcher_0_1_12"]=("undefined"!==typeof self?self:this)["webpackJsonpapp_launcher_0_1_12"]||[]).push([[2],{"45dd":function(e,t,a){var n=a("5eaa");t=n(!1),t.push([e.i,".services-by-cluster-grid[data-v-087adeee]{display:grid;grid-gap:1rem;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.cluster-header[data-v-087adeee]{align-items:center;background:var(--header-bg);border-bottom:var(--header-border-size) solid var(--header-border);display:flex;height:var(--header-height);position:sticky;top:0}.hack-to-keep-header-above-app-launcher-card-dropdown-button[data-v-087adeee]{z-index:1}",""]),e.exports=t},"6a8c":function(e,t,a){var n=a("45dd");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("0ed3").default;r("48893f96",n,!0,{sourceMap:!1,shadowMode:!1})},"6c96":function(e,t,a){"use strict";a("6a8c")},"84d7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return e.loading?t("Loading"):t("div",e._l(e.servicesByCluster,(function(a){return t("div",{key:a.id,staticStyle:{"margin-bottom":"2rem"}},[t("h1",{staticClass:"cluster-header hack-to-keep-header-above-app-launcher-card-dropdown-button"},[e._v(" "+e._s(a.name)+" ")]),t("div",{staticClass:"services-by-cluster-grid"},e._l(a.services,(function(e){return t("AppLauncherCard",{key:e.id,attrs:{"cluster-id":a.id,service:e}})})),1)])})),0)},r=[],i=a("907c"),s=a("15ca"),o=function(){var e=this,t=e._self._c;return t("Card",{attrs:{"show-highlight-border":!1,sticky:!0},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticStyle:{width:"100%"}},[t("p",{staticStyle:{"font-size":"1.2rem"}},[e._v(" "+e._s(e.computedServiceName)+" ")]),t("div",{staticStyle:{color:"var(--input-label)",display:"flex","justify-content":"space-between","margin-top":"4px"}},[void 0!==e.kubernetesVersion?t("p",[e._v(" "+e._s(e.kubernetesVersion)+" ")]):e._e(),void 0!==e.helmChart?t("p",[e._v(" "+e._s(e.helmChart)+" ")]):e._e()])])]},proxy:!0},{key:"body",fn:function(){return[t("p",[e._v(e._s(e.namespace)+"/"+e._s(e.name))])]},proxy:!0},{key:"actions",fn:function(){var a,n,r,i,s;return[(null!==(a=null===(n=e.endpoints)||void 0===n?void 0:n.length)&&void 0!==a?a:0)<=1?t("a",{staticClass:"btn role-primary",attrs:{disabled:!(null!==(r=e.endpoints)&&void 0!==r&&r.length),href:null===(i=e.endpoints[0])||void 0===i?void 0:i.value,target:"_blank",rel:"noopener noreferrer nofollow",title:0===(null===(s=e.endpoints)||void 0===s?void 0:s.length)?e.t("appLauncher.noEndpointFoundForApp"):e.t("appLauncher.launchEndpoint",{endpoint:e.endpoints[0].label})}},[e._v(" "+e._s(e.t("appLauncher.launch"))+" ")]):t("ButtonDropDown",{attrs:{"button-label":e.t("appLauncher.launch"),"dropdown-options":e.endpoints,title:e.t("appLauncher.launchAnEndpointFromSelection")},on:{"click-action":t=>e.openLink(t.value)}})]},proxy:!0}])})},l=[],d=a("7b9e"),p=a("4975"),c=a("4048"),u={components:{Card:d["a"],ButtonDropDown:p["a"]},computed:{endpoints(){var e,t,a;return null!==(e=null===(t=this.service)||void 0===t||null===(a=t.spec.ports)||void 0===a?void 0:a.map(e=>{const t=`${Object(c["a"])(e.port,e.protocol)?"https":"http"}:${this.service.metadata.name}:${e.port}`;return{label:`${t}${"UDP"===e.protocol?" (UDP)":""}`,value:`k8s/clusters/${this.clusterId}/api/v1/namespaces/${this.service.metadata.namespace}/services/${t}/proxy`}}))&&void 0!==e?e:[]},computedServiceName(){var e,t,a,n;return null!==(e=null===(t=this.service)||void 0===t||null===(a=t.metadata.labels)||void 0===a?void 0:a["app.kubernetes.io/component"])&&void 0!==e?e:null===(n=this.service)||void 0===n?void 0:n.metadata.name},helmChart(){var e,t;return null===(e=this.service)||void 0===e||null===(t=e.metadata.labels)||void 0===t?void 0:t["helm.sh/chart"]},kubernetesVersion(){var e,t;return null===(e=this.service)||void 0===e||null===(t=e.metadata.labels)||void 0===t?void 0:t["app.kubernetes.io/version"]},name(){var e;return null===(e=this.service)||void 0===e?void 0:e.metadata.name},namespace(){var e;return null===(e=this.service)||void 0===e?void 0:e.metadata.namespace}},props:{clusterId:{type:String,required:!0},service:{type:Object,required:!0,default:()=>({id:"",metadata:{labels:{"helm.sh/chart":"","app.kubernetes.io/component":"","app.kubernetes.io/version":""},name:"",namespace:""},spec:{ports:[]}})}},methods:{openLink(e){window.open(e)}},name:"AppLauncherCard",layout:"plain"},v=u,h=a("d802"),m=Object(h["a"])(v,o,l,!1,null,null,null),b=m.exports,f={components:{Loading:s["a"],AppLauncherCard:b},data(){return{servicesByCluster:[],loading:!0}},async fetch(){const e=await this.$store.dispatch("management/findAll",{type:i["a"].CLUSTER});this.servicesByCluster=await Promise.all(e.filter(e=>e.isReady).map(async e=>({name:`${this.$store.getters["i18n/t"]("nav.group.cluster")} ${e.spec.displayName}`,id:e.id,services:(await this.$store.dispatch("cluster/request",{url:`/k8s/clusters/${e.id}/v1/services`})).data}))),this.loading=!1},layout:"plain"},y=f,_=(a("6c96"),Object(h["a"])(y,n,r,!1,null,"087adeee",null));t["default"]=_.exports}}]);
//# sourceMappingURL=app-launcher-0.1.12.umd.min.2.js.map
(("undefined"!==typeof self?self:this)["webpackJsonpapp_launcher_0_1_2"]=("undefined"!==typeof self?self:this)["webpackJsonpapp_launcher_0_1_2"]||[]).push([[2],{"84d7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return Boolean(!1)?t(a.Loading):t("div",e._l(a.servicesByCluster,(function(n){return t("div",{key:n.id,staticStyle:{"margin-bottom":"2rem"}},[t("h1",{staticClass:"cluster-header hack-to-keep-header-above-app-launcher-card-dropdown-button"},[e._v(" "+e._s(n.name)+" ")]),t("div",{staticClass:"services-by-cluster-grid"},e._l(n.services,(function(e){return t(a.AppLauncherCard,{key:e.id,attrs:{"cluster-id":n.id,service:e}})})),1)])})),0)},r=[],o=a("8bbf"),s=a("907c"),i=a("15ca"),c=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.Card,{attrs:{"show-highlight-border":!1,sticky:!0},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticStyle:{width:"100%"}},[t("p",{staticStyle:{"font-size":"1.2rem"}},[e._v(" "+e._s(a.computedServiceName)+" ")]),t("div",{staticStyle:{color:"var(--input-label)",display:"flex","justify-content":"space-between","margin-top":"4px"}},[void 0!==a.kubernetesVersion?t("p",[e._v(" "+e._s(a.kubernetesVersion)+" ")]):e._e(),void 0!==a.helmChart?t("p",[e._v(" "+e._s(a.helmChart)+" ")]):e._e()])])]},proxy:!0},{key:"body",fn:function(){return[t("p",[e._v(e._s(a.namespace)+"/"+e._s(a.name))])]},proxy:!0},{key:"actions",fn:function(){var n,r,o,s,i;return[(null!==(n=null===(r=a.endpoints)||void 0===r?void 0:r.length)&&void 0!==n?n:0)<=1?t("a",{staticClass:"btn role-primary",attrs:{disabled:!(null!==(o=a.endpoints)&&void 0!==o&&o.length),href:null===(s=a.endpoints[0])||void 0===s?void 0:s.value,target:"_blank",rel:"noopener noreferrer nofollow",title:0===(null===(i=a.endpoints)||void 0===i?void 0:i.length)?e.t("appLauncher.noEndpointFoundForApp"):e.t("appLauncher.launchEndpoint",{endpoint:a.endpoints[0].label})}},[e._v(" "+e._s(e.t("appLauncher.launch"))+" ")]):t(a.ButtonDropDown,{attrs:{"button-label":e.t("appLauncher.launch"),"dropdown-options":a.endpoints,title:e.t("appLauncher.launchAnEndpointFromSelection")},on:{"click-action":e=>a.openLink(e.value)}})]},proxy:!0}])})},l=[],p=a("7b9e"),d=a("4975"),u=a("4048");const v={layout:"plain"};var h=Object(o["defineComponent"])({...v,__name:"AppLauncherCard",props:{clusterId:null,service:null},setup(e){const t=e,a=Object(o["computed"])(()=>{var e,a;return null!==(e=null===(a=t.service.spec.ports)||void 0===a?void 0:a.map(e=>{const a=`${Object(u["a"])(e.port,e.protocol)?"https":"http"}:${t.service.metadata.name}:${e.port}`;return{label:`${a}${"UDP"===e.protocol?" (UDP)":""}`,value:`k8s/clusters/${t.clusterId}/api/v1/namespaces/${t.service.metadata.namespace}/services/${a}/proxy`}}))&&void 0!==e?e:[]}),n=Object(o["computed"])(()=>{var e;return null!==(e=t.service.metadata.labels)&&void 0!==e&&e["app.kubernetes.io/component"]?t.service.metadata.labels["app.kubernetes.io/component"]:t.service.metadata.name}),r=Object(o["computed"])(()=>{var e;return null===(e=t.service.metadata.labels)||void 0===e?void 0:e["helm.sh/chart"]}),s=Object(o["computed"])(()=>{var e;return null===(e=t.service.metadata.labels)||void 0===e?void 0:e["app.kubernetes.io/version"]}),i=Object(o["computed"])(()=>t.service.metadata.name),c=Object(o["computed"])(()=>t.service.metadata.namespace),l=e=>{window.open(e)};return{__sfc:!0,props:t,endpoints:a,computedServiceName:n,helmChart:r,kubernetesVersion:s,name:i,namespace:c,openLink:l,Card:p["a"],ButtonDropDown:d["a"]}}}),b=h,m=a("d802"),f=Object(m["a"])(b,c,l,!1,null,null,null),_=f.exports;const y={layout:"plain"};var g=Object(o["defineComponent"])({...y,__name:"app-launcher",setup(e){var t;const a=null===(t=Object(o["getCurrentInstance"])())||void 0===t?void 0:t.proxy.$store,n=Object(o["ref"])([]),r=async()=>{const e=await a.dispatch("management/findAll",{type:s["a"].CLUSTER});n.value=await Promise.all(e.filter(e=>e.isReady).map(async e=>({name:`${a.getters["i18n/t"]("nav.group.cluster")} ${e.spec.displayName}`,id:e.id,services:(await a.dispatch("cluster/request",{url:`/k8s/clusters/${e.id}/v1/services`})).data})))};return Object(o["onMounted"])(()=>{r()}),{__sfc:!0,store:a,servicesByCluster:n,fetchServicesByCluster:r,Loading:i["a"],AppLauncherCard:_}}}),k=g,C=(a("bd92"),Object(m["a"])(k,n,r,!1,null,"1a3d3b0e",null));t["default"]=C.exports},"96c8":function(e,t,a){var n=a("ce7b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("0ed3").default;r("e44400f0",n,!0,{sourceMap:!1,shadowMode:!1})},bd92:function(e,t,a){"use strict";a("96c8")},ce7b:function(e,t,a){var n=a("5eaa");t=n(!1),t.push([e.i,".services-by-cluster-grid[data-v-1a3d3b0e]{display:grid;grid-gap:1rem;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.cluster-header[data-v-1a3d3b0e]{align-items:center;background:var(--header-bg);border-bottom:var(--header-border-size) solid var(--header-border);display:flex;height:var(--header-height);position:sticky;top:0}.hack-to-keep-header-above-app-launcher-card-dropdown-button[data-v-1a3d3b0e]{z-index:1}",""]),e.exports=t}}]);
//# sourceMappingURL=app-launcher-0.1.2.umd.min.2.js.map